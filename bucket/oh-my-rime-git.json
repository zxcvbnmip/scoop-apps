{
    "version": "2025.06.10.634441c",
    "homepage": "https://github.com/Mintimate/oh-my-rime",
    "description": "oh-my-rime è¾“å…¥æ³•ï¼Œå¿«é€Ÿåˆå§‹åŒ–rimeâš¡ï¼ŒåŒæ—¶é€‚é…å¤šä¸ªå¹³å°ðŸ’»ï¼Œä¹Ÿå¯ä»¥å«å®ƒã€Žè–„è·è¾“å…¥æ³•ã€ï¼Œäº¦æˆ–è€…ã€ŽMint Inputã€ã€‚",
    "license": "GPL-3.0-only",
    "url": "https://github.com/Mintimate/oh-my-rime/archive/634441c92bf3803fe1f88cc786e43f325213378c.zip",
    "hash": "aee1f765c533a5d55e349892ff4dd06692a3508dfa53cc76742b5c9aba3361f2",
    "extract_dir": "oh-my-rime-634441c92bf3803fe1f88cc786e43f325213378c",
    "depends": "weasel",
    "extract_to": "oh-my-rime",
    "post_install": [
        "$rimeRegPath = \"HKCU:\\SOFTWARE\\Rime\\Weasel\"",
        "if (Test-Path $rimeRegPath) {",
        "    $rimeUserDir = (Get-ItemProperty -Path $rimeRegPath).RimeUserDir",
        "}",
        "if (!$rimeUserDir) {",
        "    $rimeUserDir = \"$env:APPDATA\\Rime\"",
        "}",
        "Copy-Item \"$dir\\oh-my-rime\\*\" $rimeUserDir -Recurse -Force",
        "",
        "$rimeConfig = @\"",
        "patch:",
        "  schema_list:",
        "    - {schema: rime_mint}",
        "\"@",
        "$rimeConfigPath = \"$rimeUserDir\\default.custom.yaml\"",
        "",
        "if (!(Test-Path $rimeConfigPath) -or !(Get-Item $rimeConfigPath).Length) {",
        "    Set-Content $rimeConfigPath $rimeConfig -Force  | Out-Null",
        "    if (Get-Command \"WeaselDeployer.exe\" -ErrorAction SilentlyContinue) {",
        "        info \"Redeploying Rime config...\"",
        "        WeaselDeployer.exe /deploy",
        "    } else {",
        "        warn \"Can't find WeaselDeployer.exe in PATH, please redeploy manually.\"",
        "    }",
        "}"
    ],
    "checkver": {
        "url": "https://github.com/Mintimate/oh-my-rime/commits/main.atom",
        "regex": "(?s)>(\\d+)-(\\d+)-(\\d+)T.*?/(?<sha>(?<short>[0-9a-f]{7})[0-9a-f]{33})",
        "replace": "${1}.${2}.${3}.${short}"
    },
    "autoupdate": {
        "extract_dir": "oh-my-rime-$matchSha",
        "url": "https://github.com/Mintimate/oh-my-rime/archive/$matchSha.zip"
    }
}
